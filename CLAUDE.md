# Claude Plugins Repository

Personal Claude Code plugin marketplace using Bun workspaces and TypeScript.

## Quick Reference

- **Add plugin**: Create in `plugins/`, run `bun run sync`
- **Build**: `bun run build`
- **Format**: `bun run format`
- **Before commit**: `bun run typecheck && bun run format:check`

## Structure

```
claude-plugins/
├── .claude-plugin/
│   └── marketplace.json    # Plugin registry (auto-generated by sync)
├── plugins/                # Plugin packages
│   └── {plugin-name}/
│       ├── package.json
│       ├── tsconfig.json
│       ├── plugin.json     # Skills/agents definition
│       └── skills/
│           └── {skill}/
│               └── SKILL.md
├── scripts/
│   └── sync.ts             # Plugin discovery
└── .github/workflows/
    └── ci.yml              # CI pipeline
```

## Conventions

- **Names**: kebab-case for plugins, skills, directories
- **TypeScript**: strict mode, ES2022, NodeNext modules
- **Formatting**: Prettier (see .prettierrc)
- **Commits**: conventional commits (feat, fix, docs, chore)
- **No Co-Authored-By**: unless explicitly requested

## Commands

| Command                | Purpose                               |
| ---------------------- | ------------------------------------- |
| `bun run build`        | Compile TypeScript                    |
| `bun run typecheck`    | Type check without emit               |
| `bun run sync`         | Update marketplace.json from plugins/ |
| `bun run format`       | Format with Prettier                  |
| `bun run format:check` | Check formatting (CI)                 |
| `bun run clean`        | Remove build artifacts                |

## Adding a Plugin

1. Create `plugins/{name}/` with package.json, tsconfig.json, plugin.json
2. Add skills in `skills/{skill-name}/SKILL.md`
3. Add reference to root `tsconfig.json`
4. Run `bun run sync`

Or use: `/create-skill <description>`

## Versioning & Plugin Updates

When making functional changes to a plugin (skills, agents, commands, hooks), **bump the version** in that plugin's `plugin.json`. Without a version bump, `claude plugin update` won't detect changes — the marketplace cache compares versions, not commit SHAs.

- **Patch** (0.1.0 → 0.1.1): Bug fixes, hook tweaks, formatting
- **Minor** (0.1.0 → 0.2.0): New features, skill restructuring, behavior changes
- **Major**: Reserved for breaking changes

After bumping, run `bun run sync` (updates marketplace.json), commit both files, and push. Users must also `git pull` their local marketplace cache at `~/.claude/plugins/marketplaces/birdcar-plugins/` before `claude plugin update` will see the new version — or uninstall/reinstall the plugin.

## CI Requirements

Before merge, CI checks:

- Type check passes
- Build succeeds
- Sync is up to date (no uncommitted marketplace changes)
- Formatting passes
